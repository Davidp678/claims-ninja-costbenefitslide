<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Claims Ninja Cost-Benefit Calculator - Slide</title>
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        background: #1d2025; /* slide background */
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji",
          "Segoe UI Symbol";
      }

      /* Fixed slide canvas */
      #cn-slide-root {
        width: 725px;
        height: 300px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
      }

      /* Main shell */
      .cn-shell {
        width: 705px;
        height: 280px;
        background: rgba(97, 103, 102, 0.12);
        border-radius: 18px;
        border: 1px solid #d1d5db;
        box-shadow: 0 14px 30px rgba(15, 23, 42, 0.25);
        padding: 10px 12px;
        box-sizing: border-box;
        color: #0f172a;
      }

      .cn-inner {
        border-radius: 14px;
        background: #ffffff;
        border: 1px solid #e5e7eb;
        overflow: hidden;
        height: 100%;
        display: flex;
        flex-direction: column;
      }

      /* Header */
      .cn-head {
        display: flex;
        align-items: flex-start;
        justify-content: space-between;
        gap: 10px;
        padding: 8px 12px;
        background: linear-gradient(
          135deg,
          rgba(97, 103, 102, 0.32),
          rgba(97, 103, 102, 0.16)
        );
        border-bottom: 1px solid #e5e7eb;
      }

      .cn-head-left {
        display: flex;
        flex-direction: column;
        gap: 2px;
      }

      .cn-title {
        margin: 0;
        font-size: 16px;
        font-weight: 800;
        letter-spacing: -0.02em;
      }

      .cn-sub {
        margin: 0;
        font-size: 11px;
        color: #667085;
      }

      .cn-head-right {
        font-size: 10px;
        text-transform: uppercase;
        letter-spacing: 0.14em;
        font-weight: 800;
        color: #475569;
        white-space: nowrap;
        margin-top: 2px;
      }

      /* Body layout */
      .cn-body {
        flex: 1;
        display: grid;
        grid-template-columns: 1.05fr 0.95fr;
        min-height: 0;
      }

      .cn-col {
        padding: 8px 10px 10px;
        box-sizing: border-box;
      }

      .cn-col + .cn-col {
        border-left: 1px solid #e5e7eb;
      }

      .cn-section-title {
        font-size: 10px;
        text-transform: uppercase;
        letter-spacing: 0.16em;
        font-weight: 800;
        color: #475569;
        margin: 0 0 6px;
      }

      /* Inputs */
      .cn-field {
        margin-bottom: 10px;
      }

      .cn-field-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 6px;
        margin-bottom: 3px;
      }

      .cn-field label {
        font-size: 11px;
        font-weight: 600;
        color: #1f2937;
      }

      .cn-input {
        display: inline-flex;
        align-items: center;
        gap: 4px;
        background: #f9fafb;
        border: 1px solid #e5e7eb;
        padding: 4px 8px;
        border-radius: 999px;
      }

      .cn-input input[type="number"] {
        width: 80px;
        border: none;
        outline: none;
        background: transparent;
        font-size: 12px;
        font-weight: 700;
        text-align: right;
        font-variant-numeric: tabular-nums;
        color: #111827;
      }

      .cn-input .prefix,
      .cn-input .suffix {
        font-size: 10px;
        font-weight: 600;
        color: #6b7280;
        white-space: nowrap;
      }

      .cn-range {
        margin-top: 3px;
        width: 100%;
        appearance: none;
        height: 6px;
        border-radius: 999px;
        background: linear-gradient(
          90deg,
          rgba(31, 111, 235, 0.25),
          rgba(16, 185, 129, 0.25)
        );
        box-shadow: inset 0 0 0 1px rgba(148, 163, 184, 0.5);
        outline: none;
      }

      .cn-range::-webkit-slider-thumb {
        appearance: none;
        width: 14px;
        height: 14px;
        border-radius: 999px;
        background: #ffffff;
        border: 2px solid #1f6feb;
        box-shadow: 0 2px 6px rgba(31, 111, 235, 0.4);
        cursor: pointer;
        margin-top: -4px;
      }

      .cn-range::-moz-range-thumb {
        width: 14px;
        height: 14px;
        border-radius: 999px;
        background: #ffffff;
        border: 2px solid #1f6feb;
        box-shadow: 0 2px 6px rgba(31, 111, 235, 0.4);
        cursor: pointer;
      }

      .cn-help {
        margin: 2px 0 0;
        font-size: 9px;
        color: #6b7280;
      }

      /* Assumptions accordion */
      details.cn-acc {
        margin-top: 4px;
        border: 1px dashed #e5e7eb;
        border-radius: 8px;
        padding: 5px 7px;
        background: #fcfcfd;
        font-size: 9px;
        color: #475569;
      }

      details.cn-acc > summary {
        cursor: pointer;
        font-weight: 700;
        color: #0b3b99;
        list-style: none;
      }

      details.cn-acc > summary::-webkit-details-marker {
        display: none;
      }

      details.cn-acc[open] {
        background: #f7faff;
      }

      .cn-kv {
        display: grid;
        grid-template-columns: auto 1fr;
        gap: 3px 8px;
        margin-top: 4px;
      }

      .cn-kv div:first-child {
        font-weight: 600;
        color: #334155;
      }

      /* Right side: cards + advantage */
      .cn-cards {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 6px;
        margin-bottom: 6px;
      }

      .cn-card {
        border-radius: 10px;
        border: 1px solid #e5e7eb;
        padding: 6px 8px;
        background: #ffffff;
      }

      .cn-card h4 {
        margin: 0 0 4px;
        font-size: 11px;
        font-weight: 800;
        letter-spacing: -0.01em;
      }

      .cn-kpi {
        display: flex;
        align-items: baseline;
        gap: 6px;
        margin-bottom: 2px;
      }

      .cn-kpi .big {
        font-size: 18px;
        font-weight: 900;
        font-variant-numeric: tabular-nums;
      }

      .cn-kpi .sub {
        font-size: 9px;
        color: #667085;
      }

      .cn-line {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        margin: 2px 0;
        font-size: 10px;
        color: #334155;
      }

      .cn-line .muted {
        color: #667085;
      }

      .cn-divider {
        height: 1px;
        background: #e5e7eb;
        margin: 4px 0;
      }

      .cn-money-destructive {
        color: #dc2626;
        font-weight: 600;
      }

      .cn-money-success {
        color: #16a34a;
        font-weight: 800;
      }

      /* Advantage block */
      .cn-adv {
        border-radius: 10px;
        border: 2px solid rgba(22, 163, 74, 0.2);
        background: rgba(22, 163, 74, 0.04);
        padding: 6px 8px;
      }

      .cn-adv-title {
        font-size: 9px;
        text-transform: uppercase;
        letter-spacing: 0.16em;
        color: #166534;
        font-weight: 800;
        margin: 0 0 4px;
      }

      .cn-adv-grid {
        display: grid;
        grid-template-columns: repeat(3, minmax(0, 1fr));
        gap: 6px;
      }

      .cn-adv-item label {
        display: block;
        font-size: 8px;
        text-transform: uppercase;
        letter-spacing: 0.12em;
        color: #6b7280;
        margin-bottom: 1px;
      }

      .cn-adv-item .big {
        font-size: 14px;
        font-weight: 800;
        font-variant-numeric: tabular-nums;
      }

      @media (prefers-reduced-motion: reduce) {
        .cn-range {
          transition: none !important;
        }
      }
    </style>
  </head>
  <body>
    <div id="cn-slide-root">
      <div class="cn-shell">
        <div class="cn-inner">
          <div class="cn-head">
            <div class="cn-head-left">
              <h2 class="cn-title">Cost-Benefit Calculator</h2>
              <p class="cn-sub">
                Adjust <strong>Carrier Estimate</strong> and <strong>Jobs/Month</strong> to compare
                Claims Ninja vs. in-house.
              </p>
            </div>
            <div class="cn-head-right">Monthly profit comparison</div>
          </div>

          <div class="cn-body">
            <!-- LEFT: Inputs -->
            <div class="cn-col">
              <div class="cn-section-title">Inputs</div>

              <!-- Carrier estimate -->
              <div class="cn-field">
                <div class="cn-field-header">
                  <label for="cn-carrier">Carrier estimate (base)</label>
                  <div class="cn-input">
                    <span class="prefix">$</span>
                    <input
                      id="cn-carrier"
                      type="number"
                      value="4500"
                      min="1000"
                      max="50000"
                      step="100"
                    />
                  </div>
                </div>
                <input
                  class="cn-range"
                  id="cn-carrier-range"
                  type="range"
                  min="1000"
                  max="50000"
                  step="100"
                  value="4500"
                  aria-label="Carrier estimate slider"
                />
                <p class="cn-help">Typical carrier-approved base estimate per job.</p>
              </div>

              <!-- Jobs per month -->
              <div class="cn-field">
                <div class="cn-field-header">
                  <label for="cn-jobs">Jobs per month</label>
                  <div class="cn-input">
                    <input
                      id="cn-jobs"
                      type="number"
                      value="12"
                      min="1"
                      max="100"
                      step="1"
                    />
                    <span class="suffix">jobs</span>
                  </div>
                </div>
                <input
                  class="cn-range"
                  id="cn-jobs-range"
                  type="range"
                  min="1"
                  max="100"
                  step="1"
                  value="12"
                  aria-label="Jobs per month slider"
                />
                <p class="cn-help">Average number of insurance jobs you run per month.</p>
              </div>

              <!-- Assumptions -->
              <details class="cn-acc">
                <summary>View assumptions</summary>
                <div class="cn-kv">
                  <div>Claims Ninja uplift</div>
                  <div>+45% over carrier base</div>

                  <div>Typical in-house uplift</div>
                  <div>+20% over carrier base</div>

                  <div>Claims Ninja fee</div>
                  <div>5% of final settlement</div>

                  <div>In-house comp</div>
                  <div>$80k salary + 20% overhead</div>

                  <div>Capacity</div>
                  <div>15 jobs/manager/month</div>

                  <div>Time to funds</div>
                  <div>21 days (CN) vs. 90 days (in-house)</div>

                  <div>Cost of capital</div>
                  <div>12% annualized</div>
                </div>
              </details>
            </div>

            <!-- RIGHT: Results -->
            <div class="cn-col">
              <div class="cn-cards">
                <!-- Claims Ninja -->
                <div class="cn-card">
                  <div
                    style="
                      border-bottom: 2px solid #1f6feb;
                      padding-bottom: 3px;
                      margin-bottom: 3px;
                    "
                  >
                    <h4 style="color: #1f6feb; margin: 0;">Claims Ninja (Outsourced)</h4>
                  </div>
                  <div class="cn-kpi">
                    <div class="big" id="cn-perjob">US$0</div>
                    <div class="sub">per job</div>
                  </div>
                  <div class="cn-line">
                    <span class="muted">Settlement</span>
                    <span id="cn-settlement">US$0</span>
                  </div>
                  <div class="cn-line">
                    <span class="muted">Fee (CN)</span>
                    <span class="cn-money-destructive" id="cn-fee">-US$0</span>
                  </div>
                  <div class="cn-line">
                    <span class="muted">Cash drag (time to funds)</span>
                    <span class="cn-money-destructive" id="cn-cashdrag">-US$0</span>
                  </div>
                  <div class="cn-divider"></div>
                  <div class="cn-line">
                    <strong>Monthly profit</strong>
                    <strong class="cn-money-success" id="cn-monthly">US$0</strong>
                  </div>
                </div>

                <!-- In-house -->
                <div class="cn-card">
                  <div
                    style="
                      border-bottom: 2px solid #94a3b8;
                      padding-bottom: 3px;
                      margin-bottom: 3px;
                    "
                  >
                    <h4 style="color: #111827; margin: 0;">In-House</h4>
                  </div>
                  <div class="cn-kpi">
                    <div class="big" id="in-perjob">US$0</div>
                    <div class="sub">per job</div>
                  </div>
                  <div class="cn-line">
                    <span class="muted">Settlement</span>
                    <span id="in-settlement">US$0</span>
                  </div>
                  <div class="cn-line">
                    <span class="muted">Labor (derived)</span>
                    <span class="cn-money-destructive" id="in-labor">-US$0</span>
                  </div>
                  <div class="cn-line">
                    <span class="muted">Cash drag (time to funds)</span>
                    <span class="cn-money-destructive" id="in-cashdrag">-US$0</span>
                  </div>
                  <div class="cn-divider"></div>
                  <div class="cn-line">
                    <strong>Monthly profit</strong>
                    <strong id="in-monthly">US$0</strong>
                  </div>
                </div>
              </div>

              <!-- Advantage summary -->
              <div class="cn-adv">
                <div class="cn-adv-title">Why Claims Ninja wins</div>
                <div class="cn-adv-grid">
                  <div class="cn-adv-item">
                    <label>Extra settlement / job</label>
                    <div class="big" id="adv-uplift">US$0</div>
                  </div>
                  <div class="cn-adv-item">
                    <label>Faster cash (per job)</label>
                    <div class="big" id="adv-speed">US$0</div>
                  </div>
                  <div class="cn-adv-item">
                    <label>Monthly profit advantage</label>
                    <div class="big" id="adv-total">US$0</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      (function () {
        const $ = (id) => document.getElementById(id);

        const inpCarrier = $("cn-carrier");
        const inpCarrierRange = $("cn-carrier-range");
        const inpJobs = $("cn-jobs");
        const inpJobsRange = $("cn-jobs-range");

        const out = {
          cnPerJob: $("cn-perjob"),
          cnSettlement: $("cn-settlement"),
          cnFee: $("cn-fee"),
          cnCashDrag: $("cn-cashdrag"),
          cnMonthly: $("cn-monthly"),
          inPerJob: $("in-perjob"),
          inSettlement: $("in-settlement"),
          inLabor: $("in-labor"),
          inCashDrag: $("in-cashdrag"),
          inMonthly: $("in-monthly"),
          advUplift: $("adv-uplift"),
          advSpeed: $("adv-speed"),
          advTotal: $("adv-total"),
        };

        // Assumptions / constants (same as original)
        const UPLIFT_CN = 0.45; // 45%
        const UPLIFT_IN = 0.2; // 20%
        const CN_FEE = 0.05; // 5% of final settlement
        const SALARY = 80000; // $80k
        const OH = 0.2; // 20% overhead
        const CAP = 15; // jobs/manager/month
        const DAYS_CN = 21; // days
        const DAYS_IN = 90; // days
        const APR = 0.12; // 12% annual cost of capital

        const fmt = (n) =>
          "US$" +
          (n || 0).toLocaleString("en-US", {
            maximumFractionDigits: 0,
          });

        function cashDrag(amount, days, apr) {
          const dailyRate = apr / 365;
          return amount * dailyRate * days;
        }

        function calc() {
          const base = Math.max(0, Number(inpCarrier.value) || 0);
          const jobs = Math.max(0, Number(inpJobs.value) || 0);

          // Derived labor cost (salary + overhead spread over capacity/month)
          const salaryAllIn = SALARY * (1 + OH);
          const laborPerJob = salaryAllIn / (CAP * 12);

          // Claims Ninja
          const cnSettle = base * (1 + UPLIFT_CN);
          const cnFee = cnSettle * CN_FEE;
          const cnCash = cashDrag(cnSettle, DAYS_CN, APR);
          const cnPerJob = cnSettle - cnFee - cnCash;
          const cnMonthly = cnPerJob * jobs;

          // In-house
          const inSettle = base * (1 + UPLIFT_IN);
          const inCash = cashDrag(inSettle, DAYS_IN, APR);
          const inPerJob = inSettle - laborPerJob - inCash;
          const inMonthly = inPerJob * jobs;

          // Advantages
          const advUplift = cnSettle - inSettle;
          const advSpeed = inCash - cnCash;
          const advTotal = cnMonthly - inMonthly;

          // Outputs
          out.cnPerJob.textContent = fmt(cnPerJob);
          out.cnSettlement.textContent = fmt(cnSettle);
          out.cnFee.textContent = "-" + fmt(cnFee);
          out.cnCashDrag.textContent = "-" + fmt(cnCash);
          out.cnMonthly.textContent = fmt(cnMonthly);

          out.inPerJob.textContent = fmt(inPerJob);
          out.inSettlement.textContent = fmt(inSettle);
          out.inLabor.textContent = "-" + fmt(laborPerJob);
          out.inCashDrag.textContent = "-" + fmt(inCash);
          out.inMonthly.textContent = fmt(inMonthly);

          out.advUplift.textContent = fmt(advUplift);
          out.advSpeed.textContent = fmt(advSpeed);
          out.advTotal.textContent = fmt(advTotal);
        }

        function syncPair(numberInput, rangeInput) {
          const min = Number(rangeInput.min);
          const max = Number(rangeInput.max);

          numberInput.addEventListener("input", () => {
            let v = Number(numberInput.value) || 0;
            if (v < min) v = min;
            if (v > max) v = max;
            numberInput.value = v;
            rangeInput.value = v;
            calc();
          });

          rangeInput.addEventListener("input", () => {
            numberInput.value = rangeInput.value;
            calc();
          });
        }

        syncPair(inpCarrier, inpCarrierRange);
        syncPair(inpJobs, inpJobsRange);

        calc();
      })();
    </script>
  </body>
</html>
